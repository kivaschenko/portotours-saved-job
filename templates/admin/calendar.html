<!-- templates/admin/calendar.html -->
{% extends "admin/base_site.html" %}
{% block extrahead %}
  <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
{% endblock %}

{% block content %}
<h1>{{ event.title }} Calendar</h1>
<div id="calendar"></div>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      events: '{% url 'event-occurrences' event.id %}',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      eventClick: function(info) {
        alert('Event: ' + info.event.title);
        // Change the border color just for fun
        info.el.style.borderColor = 'red';
      }
    });

    calendar.render();
  });
</script>
{% endblock %}
